(function(){"use strict";var e={6864:function(e,t,r){var a=r(6369),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[e._m(0),t("div",{staticClass:"body"},[0===e.nowState?t("div",[t("el-row",[t("el-col",{attrs:{span:8}},[e._v(" 个人信息 ")]),t("el-col",{attrs:{span:16}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.nowState=1}}},[e._v(e._s(e.myInfo?"修改":"添加"))])],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[e._v(" 接收人信息 ")]),t("el-col",{attrs:{span:16}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.refreshGetInfo(),e.nowState=2}}},[e._v("添加")])],1)],1),t("div",{staticClass:"info"},[e._v(" 个人信息"+e._s(e.myInfo?"已添加":"未添加")+"，当前一共添加"+e._s(e.USERS.length)+"个接收人 ")]),t("div",{staticClass:"home-push"},[t("el-button",{on:{click:e.build}},[e._v("生成")])],1),t("el-input",{staticStyle:{"margin-top":"20px"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1):e._e(),1===e.nowState?t("div",[t("el-form",{ref:"userRef",attrs:{"label-position":"left",model:e.userInfo,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"APP_ID",prop:"APP_ID"}},[t("el-input",{model:{value:e.userInfo.APP_ID,callback:function(t){e.$set(e.userInfo,"APP_ID",t)},expression:"userInfo.APP_ID"}})],1),t("el-form-item",{attrs:{label:"APP_SECRET",prop:"APP_SECRET"}},[t("el-input",{model:{value:e.userInfo.APP_SECRET,callback:function(t){e.$set(e.userInfo,"APP_SECRET",t)},expression:"userInfo.APP_SECRET"}})],1),t("el-form-item",{attrs:{label:"文字颜色",prop:"isShowColor"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.userInfo.isShowColor,callback:function(t){e.$set(e.userInfo,"isShowColor",t)},expression:"userInfo.isShowColor"}},e._l(e.showcolor,(function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"结果返回模板",prop:"CALLBACK_TEMPLATE_ID"}},[t("el-input",{model:{value:e.userInfo.CALLBACK_TEMPLATE_ID,callback:function(t){e.$set(e.userInfo,"CALLBACK_TEMPLATE_ID",t)},expression:"userInfo.CALLBACK_TEMPLATE_ID"}})],1),t("el-form-item",{attrs:{label:"自己的id",prop:"CALLBACK_USERS"}},[t("el-input",{model:{value:e.userInfo.CALLBACK_USERS,callback:function(t){e.$set(e.userInfo,"CALLBACK_USERS",t)},expression:"userInfo.CALLBACK_USERS"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userRef")}}},[e._v("立即创建")])],1)],1)],1):e._e(),2===e.nowState?t("div",[t("el-form",{ref:"getRef",attrs:{"label-position":"left",model:e.getInfo,rules:e.rules,"label-width":"170px"}},[t("el-form-item",{attrs:{label:"名字",prop:"name"}},[t("el-input",{model:{value:e.getInfo.name,callback:function(t){e.$set(e.getInfo,"name",t)},expression:"getInfo.name"}})],1),t("el-form-item",{attrs:{label:"ID",prop:"id"}},[t("el-input",{model:{value:e.getInfo.id,callback:function(t){e.$set(e.getInfo,"id",t)},expression:"getInfo.id"}})],1),t("el-form-item",{attrs:{label:"模板ID",prop:"useTemplateId"}},[t("el-input",{model:{value:e.getInfo.useTemplateId,callback:function(t){e.$set(e.getInfo,"useTemplateId",t)},expression:"getInfo.useTemplateId"}})],1),t("el-form-item",{attrs:{label:"所在省份",prop:"province"}},[t("el-input",{model:{value:e.getInfo.province,callback:function(t){e.$set(e.getInfo,"province",t)},expression:"getInfo.province"}})],1),t("el-form-item",{attrs:{label:"所在城市",prop:"city"}},[t("el-input",{model:{value:e.getInfo.city,callback:function(t){e.$set(e.getInfo,"city",t)},expression:"getInfo.city"}})],1),t("el-form-item",{attrs:{label:"星座运势（阳历生日）",prop:"horoscopeDate"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.getInfo.horoscopeDate,callback:function(t){e.$set(e.getInfo,"horoscopeDate",t)},expression:"getInfo.horoscopeDate"}})],1),t("el-form-item",{attrs:{label:"获取运势的时间",prop:"horoscopeDateType"}},[t("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择"},model:{value:e.getInfo.horoscopeDateType,callback:function(t){e.$set(e.getInfo,"horoscopeDateType",t)},expression:"getInfo.horoscopeDateType"}},e._l(e.horoType,(function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"点击详情跳转页",prop:"openUrl"}},[t("el-input",{model:{value:e.getInfo.openUrl,callback:function(t){e.$set(e.getInfo,"openUrl",t)},expression:"getInfo.openUrl"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.nextTo3}},[e._v("下一步")])],1)],1)],1):e._e(),3===e.nowState?t("div",[t("h3",[e._v("专属节日提醒，已设置"+e._s(e.getInfo.festivals.length)+"个")]),t("el-form",{ref:"thisFestivalRef",attrs:{"label-position":"left",model:e.thisFestival,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"节假日",prop:"type"}},[t("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择"},model:{value:e.thisFestival.type,callback:function(t){e.$set(e.thisFestival,"type",t)},expression:"thisFestival.type"}},e._l(e.festivalOption,(function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.thisFestival.name,callback:function(t){e.$set(e.thisFestival,"name",t)},expression:"thisFestival.name"}})],1),t("el-form-item",{attrs:{label:"日期",prop:"date"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.thisFestival.date,callback:function(t){e.$set(e.thisFestival,"date",t)},expression:"thisFestival.date"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.addFestival}},[e._v("添加")]),t("el-button",{attrs:{type:"primary"},on:{click:e.nextTo4}},[e._v("下一步")])],1)],1)],1):e._e(),4===e.nowState?t("div",[t("h3",[e._v("专属纪念日提醒，已设置"+e._s(e.getInfo.customizedDateList.length)+"个")]),t("el-form",{ref:"markRef",attrs:{"label-position":"left",model:e.mark,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.mark.name,callback:function(t){e.$set(e.mark,"name",t)},expression:"mark.name"}})],1),t("el-form-item",{attrs:{label:"日期",prop:"date"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.mark.date,callback:function(t){e.$set(e.mark,"date",t)},expression:"mark.date"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.addMark}},[e._v("添加")]),t("el-button",{attrs:{type:"primary"},on:{click:e.allFinish}},[e._v("完成")])],1)],1)],1):e._e()]),t("div",{staticClass:"bottom"},[e._v(" made by "),t("el-link",{attrs:{href:"https://shuangxunian.github.io/",target:"_blank"}},[e._v("shuangxunian")]),e._v(" | code "),t("el-link",{attrs:{href:"https://github.com/shuangxunian/wechat-form",target:"_blank"}},[e._v("github")])],1)])},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("h1",[e._v("信息生成")])])}],l={name:"app",components:{},data(){return{textarea:"",nowState:0,myInfo:0,getuser:[],showcolor:[{name:"黑色",value:!1},{name:"彩色",value:!0}],horoType:[{name:"今日"},{name:"明日"},{name:"本周"},{name:"本月"},{name:"今年"}],festivalOption:[{name:"阴历生日",value:"*生日"},{name:"阳历生日",value:"生日"},{name:"节日",value:"节日"}],userInfo:{APP_ID:"",APP_SECRET:"",isShowColor:!0,CALLBACK_TEMPLATE_ID:"",CALLBACK_USERS:""},rules:{APP_ID:[{required:!0,message:"APP_ID不能为空",trigger:"blur"}],APP_SECRET:[{required:!0,message:"APP_SECRET不能为空",trigger:"blur"}],FESTIVALS_LIMIT:[{required:!0,message:"FESTIVALS_LIMIT不能为空",trigger:"blur"}],name:[{required:!0,message:"名字不能为空",trigger:"blur"}],id:[{required:!0,message:"id不能为空",trigger:"blur"}],useTemplateId:[{required:!0,message:"模板id不能为空",trigger:"blur"}],province:[{required:!0,message:"所在省份不能为空",trigger:"blur"}],city:[{required:!0,message:"所在城市不能为空",trigger:"blur"}],horoscopeDate:[{required:!0,message:"不能为空",trigger:"blur"}],horoscopeDateType:[{required:!0,message:"获取运势的时间不能为空",trigger:"blur"}],openUrl:[{required:!0,message:"详情页不能为空",trigger:"blur"}],type:[{required:!0,message:"节假日不能为空",trigger:"blur"}],date:[{required:!0,message:"日期不能为空",trigger:"blur"}]},getInfo:{},thisFestival:{},mark:{},USERS:[]}},created(){this.refreshGetInfo(),this.refreshthisFestival()},methods:{refreshGetInfo(){this.getInfo={name:"",id:"",useTemplateId:"",province:"",city:"",horoscopeDate:"",horoscopeDateType:"",openUrl:"https://shuangxunian.github.io/",festivals:[],customizedDateList:[]}},refreshthisFestival(){this.thisFestival={type:"",name:"",date:"",year:""}},refreshMark(){this.mark={name:"",date:""}},submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$message.success("添加成功"),this.myInfo=1,this.nowState=0}))},getYMD(e){const t=new Date(e);let r=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;let s=t.getDate();return s=s<10?"0"+s:s,r+"-"+a+"-"+s},getMD(e){const t=new Date(e);let r=t.getMonth()+1;r=r<10?"0"+r:r;let a=t.getDate();return a=a<10?"0"+a:a,r+"-"+a},nextTo3(){this.$refs.getRef.validate((e=>{if(!e)return!1;this.$message.success("已保存"),this.getInfo.horoscopeDate=this.getMD(this.getInfo.horoscopeDate),this.nowState=3}))},addFestival(){this.$refs.thisFestivalRef.validate((e=>{if(!e)return!1;{const e=this.getYMD(this.thisFestival.date).split("-");this.thisFestival.year=e[0],this.thisFestival.date=e[1]+"-"+e[2],this.getInfo.festivals.push(this.thisFestival),this.refreshthisFestival()}}))},nextTo4(){return this.thisFestival.type||this.thisFestival.name||this.thisFestival.date?this.$message.error("必须要保存当前数据才可进入下一步！"):0===this.getInfo.festivals.length?this.$message.error("必须要有一个节假日！"):void(this.nowState=4)},addMark(){this.mark.date=this.getYMD(this.mark.date),this.getInfo.customizedDateList.push(this.mark),this.refreshMark()},allFinish(){this.USERS.push(this.getInfo),this.refreshGetInfo(),this.nowState=0},build(){if(0===this.USERS.length||!this.userInfo.APP_ID)return this.$message.error("当前缺少必填数据，请检查！");const e={APP_ID:this.userInfo.APP_ID,APP_SECRET:this.userInfo.APP_SECRET,isShowColor:this.userInfo.isShowColor,CALLBACK_TEMPLATE_ID:this.userInfo.CALLBACK_TEMPLATE_ID,CALLBACK_USERS:[{name:"自己",id:this.userInfo.CALLBACK_USERS}],USERS:this.USERS};this.textarea=JSON.stringify(e)}}},n=l,i=r(1001),u=(0,i.Z)(n,s,o,!1,null,"a8d6b4be",null),f=u.exports,p=r(2140),c=r.n(p),m=r(9745),h=r.n(m),d=r(3959),v=r.n(d),g=r(7342),b=r.n(g),I=r(2572),_=r.n(I),y=r(5981),S=r.n(y),k=r(1168),A=r.n(k),C=r(8319),P=r.n(C),T=r(5583),E=r.n(T),D=r(9371),x=r.n(D),w=r(1540),L=r.n(w);a["default"].use(L()),a["default"].use(x()),a["default"].use(E()),a["default"].use(P()),a["default"].use(A()),a["default"].use(S()),a["default"].use(_()),a["default"].use(b()),a["default"].use(v()),a["default"].use(h()),a["default"].prototype.$message=c(),a["default"].config.productionTip=!1,new a["default"]({render:e=>e(f)}).$mount("#app")}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,a,s,o){if(!a){var l=1/0;for(f=0;f<e.length;f++){a=e[f][0],s=e[f][1],o=e[f][2];for(var n=!0,i=0;i<a.length;i++)(!1&o||l>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[i])}))?a.splice(i--,1):(n=!1,o<l&&(l=o));if(n){e.splice(f--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[a,s,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,l=a[0],n=a[1],i=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(i)var f=i(r)}for(t&&t(a);u<l.length;u++)o=l[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(f)},a=self["webpackChunkwechat"]=self["webpackChunkwechat"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(6864)}));a=r.O(a)})();
//# sourceMappingURL=app.5be1c01b.js.map